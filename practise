<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuickCV | Premium Builder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://js.paystack.co/v1/inline.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap');
        body { background: #070b14; color: white; font-family: 'Plus Jakarta Sans', sans-serif; }
        .glass { background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .step-hidden { display: none; }
        .premium-gradient { background: linear-gradient(135deg, #2563eb 0%, #7c3aed 100%); }
        
        /* Template Preview Styles */
        .preview-card { cursor: pointer; transition: 0.3s; border: 2px solid transparent; }
        .preview-card.selected { border-color: #3b82f6; transform: scale(1.02); }
    </style>
</head>
<body class="antialiased p-4">

    <div id="loader" class="fixed inset-0 z-[200] bg-slate-950 flex items-center justify-center">
        <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-blue-500"></div>
    </div>

    <section id="paymentStep" class="step-hidden max-w-md mx-auto mt-20 text-center">
        <div class="glass p-10 rounded-[2.5rem]">
            <div class="w-16 h-16 premium-gradient rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-blue-500/20">
                <i class="fas fa-lock text-2xl"></i>
            </div>
            <h2 class="text-2xl font-black mb-2">Secure Payment</h2>
            <p class="text-slate-400 text-sm mb-8">To access the AI High-Impact Builder, a one-time activation fee of R10 is required.</p>
            <button onclick="payNow()" class="w-full py-4 premium-gradient rounded-2xl font-black uppercase tracking-widest text-sm">
                Pay R10.00 via Paystack
            </button>
        </div>
    </section>

    <section id="templateStep" class="step-hidden max-w-6xl mx-auto mt-10">
        <h2 class="text-center text-3xl font-black mb-10">Select Your <span class="text-blue-500">Architecture</span></h2>
        <div class="grid md:grid-cols-3 gap-8">
            <div onclick="selectTemplate('modern')" class="preview-card glass p-4 rounded-3xl" id="t-modern">
                <div class="aspect-[1/1.4] bg-white rounded-xl mb-4 overflow-hidden">
                    <div class="p-4"><div class="h-4 w-1/2 bg-slate-200 mb-2"></div><div class="h-2 w-full bg-slate-100"></div></div>
                </div>
                <h3 class="font-bold text-center">The Modern Executive</h3>
            </div>
            <div onclick="selectTemplate('tech')" class="preview-card glass p-4 rounded-3xl" id="t-tech">
                <div class="aspect-[1/1.4] bg-slate-100 rounded-xl mb-4 overflow-hidden flex">
                    <div class="w-1/3 h-full bg-slate-800"></div>
                    <div class="w-2/3 p-4"></div>
                </div>
                <h3 class="font-bold text-center">The Silicon Impact</h3>
            </div>
            <div onclick="selectTemplate('minimal')" class="preview-card glass p-4 rounded-3xl" id="t-minimal">
                <div class="aspect-[1/1.4] bg-white rounded-xl mb-4 overflow-hidden border-t-8 border-blue-600">
                    <div class="p-4"></div>
                </div>
                <h3 class="font-bold text-center">The Swiss Minimal</h3>
            </div>
        </div>
        <button onclick="goToEditor()" id="nextToEditor" class="hidden mt-10 mx-auto block px-12 py-4 premium-gradient rounded-full font-black uppercase tracking-widest text-xs">Continue to Builder</button>
    </section>

    <section id="editorStep" class="step-hidden max-w-7xl mx-auto grid lg:grid-cols-2 gap-10 mt-10">
        <div class="glass p-8 rounded-[2.5rem] h-fit">
            <h3 class="text-xl font-black mb-6 border-b border-white/10 pb-4">Professional Details</h3>
            <div class="space-y-4">
                <input type="text" id="fName" placeholder="Full Name" class="w-full p-4 bg-white/5 rounded-xl border border-white/10 outline-none focus:border-blue-500">
                <input type="text" id="fRole" placeholder="Target Job Title (e.g. Senior Manager)" class="w-full p-4 bg-white/5 rounded-xl border border-white/10 outline-none focus:border-blue-500">
                <textarea id="fSummary" placeholder="Professional Summary" class="w-full p-4 bg-white/5 rounded-xl border border-white/10 h-32"></textarea>
                <div class="grid grid-cols-2 gap-4">
                    <input type="text" id="fPhone" placeholder="Phone" class="p-4 bg-white/5 rounded-xl border border-white/10">
                    <input type="text" id="fEmail" placeholder="Email" class="p-4 bg-white/5 rounded-xl border border-white/10">
                </div>
                <button onclick="generateCV()" class="w-full py-5 bg-green-600 text-white rounded-2xl font-black uppercase tracking-widest hover:bg-green-500 transition">
                    Generate & Download PDF
                </button>
            </div>
        </div>

        <div id="cv-canvas" class="bg-white text-slate-900 p-10 shadow-2xl min-h-[842px] w-full max-w-[595px] mx-auto overflow-hidden">
            <h1 id="pName" class="text-3xl font-bold uppercase tracking-tighter">Your Name</h1>
            <p id="pRole" class="text-blue-600 font-bold mb-4">Your Title</p>
            <hr class="mb-4">
            <p id="pSummary" class="text-sm leading-relaxed text-slate-600">Summary will appear here...</p>
        </div>
    </section>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, doc, getDoc, updateDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        // CONFIG (Same as yours)
        const firebaseConfig = {
            apiKey: "AIzaSyBcp0fkuwhOOyO7fgAlbCoftWwkuog-vwQ",
            authDomain: "quickcv-47c99.firebaseapp.com",
            projectId: "quickcv-47c99",
            storageBucket: "quickcv-47c99.firebasestorage.app",
            messagingSenderId: "541347686112",
            appId: "1:541347686112:web:b821dd7213ab8674959285"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);

        let userEmail = null;
        let selectedTemplateId = null;

        // AUTH CHECK
        onAuthStateChanged(auth, async (user) => {
            if (!user) {
                window.location.href = "index.html"; // Redirect if not logged in
            } else {
                userEmail = user.email;
                checkPremiumStatus();
            }
        });

        async function checkPremiumStatus() {
            const userRef = doc(db, "users", userEmail);
            onSnapshot(userRef, (snap) => {
                document.getElementById('loader').style.display = 'none';
                const data = snap.data();
                const isPremium = data?.isPremium && Date.now() < data?.expiryTime;

                if (isPremium) {
                    showStep('templateStep');
                } else {
                    showStep('paymentStep');
                }
            });
        }

        function showStep(id) {
            document.querySelectorAll('section').forEach(s => s.classList.add('step-hidden'));
            document.getElementById(id).classList.remove('step-hidden');
        }

        // 10 RAND STRICT PAYMENT
        window.payNow = function() {
            const handler = PaystackPop.setup({
                key: 'pk_test_421d171989e8c850ae50df23425b607cae9fe366', // Use live key for production
                email: userEmail,
                amount: 1000, // EXACTLY R10.00 (1000 cents)
                currency: 'ZAR',
                callback: async (response) => {
                    const expiry = Date.now() + (24 * 60 * 60 * 1000); // 24h
                    await updateDoc(doc(db, "users", userEmail), {
                        isPremium: true,
                        expiryTime: expiry,
                        lastTx: response.reference
                    });
                }
            });
            handler.openIframe();
        };

        // UI LOGIC
        window.selectTemplate = (type) => {
            selectedTemplateId = type;
            document.querySelectorAll('.preview-card').forEach(c => c.classList.remove('selected'));
            document.getElementById(`t-${type}`).classList.add('selected');
            document.getElementById('nextToEditor').classList.remove('hidden');
        };

        window.goToEditor = () => showStep('editorStep');

        // LIVE PREVIEW SYNC
        document.getElementById('fName').addEventListener('input', (e) => document.getElementById('pName').innerText = e.target.value);
        document.getElementById('fRole').addEventListener('input', (e) => document.getElementById('pRole').innerText = e.target.value);
        document.getElementById('fSummary').addEventListener('input', (e) => document.getElementById('pSummary').innerText = e.target.value);

        // PDF GENERATION
        window.generateCV = async () => {
            const { jsPDF } = window.jspdf;
            const element = document.getElementById('cv-canvas');
            
            const canvas = await html2canvas(element, { scale: 2 });
            const imgData = canvas.toDataURL('image/png');
            const pdf = new jsPDF('p', 'mm', 'a4');
            
            const imgProps = pdf.getImageProperties(imgData);
            const pdfWidth = pdf.internal.pageSize.getWidth();
            const pdfHeight = (imgProps.height * pdfWidth) / imgProps.width;
            
            pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
            pdf.save(`${userEmail}_QuickCV.pdf`);

            // PUSH TO PORTAL HISTORY
            await updateDoc(doc(db, "users", userEmail), {
                lastGenerated: Date.now(),
                history: [{type: 'CV', date: new Date().toISOString()}]
            });

            if(confirm("CV Generated! Would you like to create a matching Cover Letter?")) {
                alert("Loading Cover Letter Templates...");
                // Logic for cover letter follows same pattern
            }
        };

    </script>
</body>
</html>


















so first should be a page where they see a an example of how the cv and cover letter will look like and on the bottom of that should be those two box options 1. click here to get unlimted cvs and cover letters r5 for 1 day, r10 for 3 days r20 for 15 days, r30 30 days....2. click here to get watch to earn stars, whats at three ads to get get 3 stars and generate 1 cv and 1 cover letter and also bank star for future use. on the top right show me buttons that when clicked leads to those job offers, job site where user has to sign up and those kind of thing




give me full html codes for this(css+js+html in one html) it uses this // Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyBcp0fkuwhOOyO7fgAlbCoftWwkuog-vwQ",
  authDomain: "quickcv-47c99.firebaseapp.com",
  projectId: "quickcv-47c99",
  storageBucket: "quickcv-47c99.firebasestorage.app",
  messagingSenderId: "541347686112",
  appId: "1:541347686112:web:b821dd7213ab8674959285",
  measurementId: "G-NQ66199Z12"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);






<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuickCV | Premium Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://js.paystack.co/v1/inline.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background-color: #f3f4f6; font-family: 'Inter', sans-serif; }
        .cv-preview { box-shadow: 0 10px 25px rgba(0,0,0,0.1); transition: transform 0.3s ease; }
        .cv-preview:hover { transform: scale(1.02); }
        .glass-card { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); }
    </style>
</head>
<body>

    <nav class="bg-white border-b p-4 flex justify-between items-center sticky top-0 z-50">
        <div class="text-2xl font-bold text-blue-600">Quick<span class="text-gray-800">CV</span></div>
        <div class="flex space-x-4">
            <a href="https://indeed.com" target="_blank" class="flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-semibold">
                <i class="fas fa-briefcase mr-2"></i> Job Offers
            </a>
            <a href="#" class="flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-semibold">
                <i class="fas fa-graduation-cap mr-2"></i> Career Boost
            </a>
            <div class="flex items-center px-4 py-2 bg-yellow-100 border border-yellow-300 rounded-lg text-sm font-bold text-yellow-700">
                <i class="fas fa-star mr-2"></i> Stars: <span id="starCount" class="ml-1">0</span>
            </div>
        </div>
    </nav>

    <main class="max-w-5xl mx-auto p-6">
        
        <h2 class="text-center text-xl font-bold text-gray-700 mb-6">Preview Your Documents</h2>
        <div class="flex flex-col md:flex-row gap-6 mb-12 justify-center">
            <div class="cv-preview bg-white p-4 border rounded shadow-sm w-full md:w-64">
                <div class="h-80 bg-gray-200 rounded flex items-center justify-center text-gray-400">
                    <img src="https://via.placeholder.com/200x280?text=CV+Preview" alt="CV Preview">
                </div>
                <p class="text-center mt-2 font-bold text-sm">Professional CV</p>
            </div>
            <div class="cv-preview bg-white p-4 border rounded shadow-sm w-full md:w-64">
                <div class="h-80 bg-gray-200 rounded flex items-center justify-center text-gray-400">
                    <img src="https://via.placeholder.com/200x280?text=Cover+Letter+Preview" alt="CL Preview">
                </div>
                <p class="text-center mt-2 font-bold text-sm">Matching Cover Letter</p>
            </div>
        </div>

        <div class="grid md:grid-cols-2 gap-8">
            
            <div class="bg-white p-8 rounded-2xl shadow-lg border-2 border-blue-500 relative overflow-hidden">
                <div class="absolute top-0 right-0 bg-blue-500 text-white px-4 py-1 rounded-bl-lg text-xs font-bold uppercase">Popular</div>
                <h3 class="text-2xl font-black text-gray-800 mb-4">Unlimited Access</h3>
                <p class="text-gray-500 mb-6 text-sm">Generate and edit as many as you want.</p>
                
                <div class="space-y-3">
                    <button onclick="pay('R5', 1)" class="w-full flex justify-between p-3 border rounded-xl hover:bg-blue-50 transition">
                        <span>1 Day</span> <span class="font-bold">R5</span>
                    </button>
                    <button onclick="pay('R10', 3)" class="w-full flex justify-between p-3 border rounded-xl hover:bg-blue-50 transition">
                        <span>3 Days</span> <span class="font-bold">R10</span>
                    </button>
                    <button onclick="pay('R20', 15)" class="w-full flex justify-between p-3 border rounded-xl hover:bg-blue-50 transition">
                        <span>15 Days</span> <span class="font-bold">R20</span>
                    </button>
                    <button onclick="pay('R30', 30)" class="w-full flex justify-between p-3 border-2 border-green-500 rounded-xl bg-green-50 font-bold">
                        <span>30 Days</span> <span>R30</span>
                    </button>
                </div>
                <button onclick="pay('R30', 30)" class="w-full mt-6 bg-blue-600 text-white py-3 rounded-xl font-bold shadow-lg hover:bg-blue-700">Unlock Unlimited Now</button>
            </div>

            <div class="bg-white p-8 rounded-2xl shadow-lg border border-gray-200">
                <h3 class="text-2xl font-black text-gray-800 mb-4">Watch & Earn</h3>
                <p class="text-gray-500 mb-6 text-sm">No money? No problem. Watch ads to earn stars.</p>
                
                <div class="bg-orange-50 border border-orange-200 p-4 rounded-xl mb-6">
                    <ul class="text-sm space-y-2 text-orange-800">
                        <li><i class="fas fa-check-circle mr-2"></i> Watch 3 ads for 3 Stars</li>
                        <li><i class="fas fa-check-circle mr-2"></i> 3 Stars = 1 CV & 1 Cover Letter</li>
                        <li><i class="fas fa-check-circle mr-2"></i> Bank stars for future use</li>
                    </ul>
                </div>

                <div id="adProgress" class="hidden mb-4">
                    <p class="text-xs font-bold mb-1 text-orange-600">Ads Watched: <span id="adsCount">0</span>/3</p>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                        <div id="progressBar" class="bg-orange-500 h-2 rounded-full" style="width: 0%"></div>
                    </div>
                </div>

                <button id="watchAdBtn" onclick="simulateAd()" class="w-full bg-orange-500 text-white py-4 rounded-xl font-bold shadow-lg hover:bg-orange-600 flex flex-col items-center">
                    <span>Watch Ads to Earn Stars</span>
                    <span class="text-xs opacity-80 font-normal">Ads remaining: 3</span>
                </button>
            </div>

        </div>
    </main>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBcp0fkuwhOOyO7fgAlbCoftWwkuog-vwQ",
            authDomain: "quickcv-47c99.firebaseapp.com",
            projectId: "quickcv-47c99",
            storageBucket: "quickcv-47c99.firebasestorage.app",
            messagingSenderId: "541347686112",
            appId: "1:541347686112:web:b821dd7213ab8674959285",
            measurementId: "G-NQ66199Z12"
        };

        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);

        // --- APP LOGIC ---
        let stars = localStorage.getItem('stars') ? parseInt(localStorage.getItem('stars')) : 0;
        let adsWatched = 0;

        const starDisplay = document.getElementById('starCount');
        const watchBtn = document.getElementById('watchAdBtn');
        const adProgressDiv = document.getElementById('adProgress');
        const adsCountSpan = document.getElementById('adsCount');
        const progressBar = document.getElementById('progressBar');

        starDisplay.innerText = stars;

        // RESTORED WATCH & EARN LOGIC
        window.simulateAd = function() {
            adProgressDiv.classList.remove('hidden');
            watchBtn.disabled = true;
            watchBtn.innerText = "Ad Playing...";

            setTimeout(() => {
                adsWatched++;
                adsCountSpan.innerText = adsWatched;
                progressBar.style.width = (adsWatched / 3 * 100) + "%";

                if (adsWatched >= 3) {
                    stars += 3;
                    localStorage.setItem('stars', stars);
                    starDisplay.innerText = stars;
                    adsWatched = 0;
                    alert("Congratulations! You earned 3 Stars.");
                    resetAdUI();
                } else {
                    watchBtn.disabled = false;
                    watchBtn.innerHTML = `<span>Watch Next Ad</span><span class="text-xs opacity-80 font-normal">Ads remaining: ${3 - adsWatched}</span>`;
                }
            }, 3000);
        };

        function resetAdUI() {
            adProgressDiv.classList.add('hidden');
            progressBar.style.width = "0%";
            watchBtn.disabled = false;
            watchBtn.innerHTML = `<span>Watch Ads to Earn Stars</span><span class="text-xs opacity-80 font-normal">Ads remaining: 3</span>`;
        }

        // TRANSACTION LOGIC (PAYSTACK)
        window.pay = function(planName, days) {
            // Convert R price to numerical cents (e.g., "R5" -> 500)
            const price = parseInt(planName.replace('R', '')) * 100;

            let handler = PaystackPop.setup({
                key: 'pk_test_421d171989e8c850ae50df23425b607cae9fe366', 
                email: 'customer@email.com', 
                amount: price,
                currency: 'ZAR',
                metadata: {
                    custom_fields: [{ display_name: "Plan Name", variable_name: "plan", value: planName }]
                },
                callback: function(response){
                    alert('Payment Successful! Reference: ' + response.reference);
                    // Logic to unlock premium for 'days'
                },
                onClose: function(){
                    alert('Transaction cancelled.');
                }
            });
            handler.openIframe();
        }
    </script>
</body>
</html>


