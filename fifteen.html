<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuickCV | Master Admin Engine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap');

        :root {
            --admin-bg: #f1f5f9;
            --accent-blue: #3b82f6;
            --sidebar-width: 280px;
        }

        body { 
            background-color: var(--admin-bg); 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            color: #1e293b;
            overflow-x: hidden;
        }

        /* --- UI Components --- */
        .glass-sidebar {
            width: var(--sidebar-width);
            background: #ffffff;
            border-right: 1px solid #e2e8f0;
            height: 100vh;
            position: fixed;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .admin-card {
            background: white;
            border-radius: 1.5rem;
            border: 1px solid #e2e8f0;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s;
        }

        .admin-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* --- Custom Scrollbar --- */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }

        /* --- Animation --- */
        @keyframes pulse-soft {
            0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); }
            100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
        }

        .active-dot {
            width: 8px;
            height: 8px;
            background: #10b981;
            border-radius: 50%;
            display: inline-block;
            animation: pulse-soft 2s infinite;
        }

        .chart-container { height: 300px; position: relative; }
        
        .table-row-hover:hover { background-color: #f8fafc; }
    </style>
</head>
<body class="flex">

    <aside class="glass-sidebar z-50 overflow-y-auto hidden lg:block">
        <div class="p-8">
            <h1 class="text-xl font-black tracking-tighter flex items-center gap-2">
                <div class="bg-blue-600 w-8 h-8 rounded-lg flex items-center justify-center text-white text-xs">A</div>
                QuickCV <span class="text-blue-500">ADMIN</span>
            </h1>
        </div>

        <nav class="px-4 space-y-2">
            <p class="text-[10px] font-bold text-slate-400 uppercase px-4 mb-2 tracking-widest">Main Menu</p>
            <a href="#" onclick="switchTab('overview')" class="nav-item flex items-center gap-3 px-4 py-3 bg-blue-50 text-blue-600 rounded-xl font-bold transition">
                <i class="fas fa-chart-pie"></i> Executive Overview
            </a>
            <a href="#" onclick="switchTab('users')" class="nav-item flex items-center gap-3 px-4 py-3 text-slate-500 hover:bg-slate-50 rounded-xl font-bold transition">
                <i class="fas fa-users"></i> User Database
            </a>
            <a href="#" onclick="switchTab('queue')" class="nav-item flex items-center gap-3 px-4 py-3 text-slate-500 hover:bg-slate-50 rounded-xl font-bold transition">
                <i class="fas fa-file-invoice"></i> Document Queue
            </a>

            <p class="text-[10px] font-bold text-slate-400 uppercase px-4 mt-8 mb-2 tracking-widest">System Control</p>
            <a href="#" onclick="switchTab('settings')" class="nav-item flex items-center gap-3 px-4 py-3 text-slate-500 hover:bg-slate-50 rounded-xl font-bold transition">
                <i class="fas fa-cog"></i> Engine Settings
            </a>
            <button onclick="logoutAdmin()" class="w-full flex items-center gap-3 px-4 py-3 text-red-500 hover:bg-red-50 rounded-xl font-bold transition">
                <i class="fas fa-sign-out-alt"></i> Exit Portal
            </button>
        </nav>

        <div class="absolute bottom-8 left-0 px-8 w-full">
            <div class="bg-slate-900 rounded-2xl p-4 text-white">
                <p class="text-[10px] text-slate-400 font-bold uppercase mb-1">System Status</p>
                <div class="flex items-center gap-2">
                    <span class="active-dot"></span>
                    <span class="text-xs font-bold">Engine 3.5 Online</span>
                </div>
            </div>
        </div>
    </aside>

    <main class="flex-1 lg:ml-[280px] p-8 min-h-screen">
        
        <header class="flex justify-between items-center mb-10">
            <div>
                <h2 id="pageTitle" class="text-3xl font-extrabold tracking-tight">Executive Overview</h2>
                <p id="pageDesc" class="text-slate-500 text-sm">Real-time telemetry from the QuickCV Engine.</p>
            </div>
            <div class="flex items-center gap-4">
                <div class="text-right hidden md:block">
                    <p class="text-sm font-bold">Admin Chief</p>
                    <p class="text-[10px] text-slate-400 font-bold uppercase">Superuser Access</p>
                </div>
                <img src="https://ui-avatars.com/api/?name=Admin+User&background=3b82f6&color=fff" class="w-12 h-12 rounded-2xl border-4 border-white shadow-sm" alt="Avatar">
            </div>
        </header>

        <section id="tab-overview" class="tab-content space-y-8">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="admin-card p-6">
                    <div class="flex justify-between items-start mb-4">
                        <div class="stat-icon bg-blue-100 text-blue-600"><i class="fas fa-file-alt"></i></div>
                        <span class="text-emerald-500 text-xs font-bold">+12% <i class="fas fa-arrow-up"></i></span>
                    </div>
                    <p class="text-slate-500 text-[10px] font-bold uppercase tracking-widest">Total CVs Generated</p>
                    <h3 class="text-2xl font-black mt-1" id="stat-total-cvs">12,482</h3>
                </div>
                <div class="admin-card p-6">
                    <div class="flex justify-between items-start mb-4">
                        <div class="stat-icon bg-purple-100 text-purple-600"><i class="fas fa-user-plus"></i></div>
                        <span class="text-emerald-500 text-xs font-bold">+5% <i class="fas fa-arrow-up"></i></span>
                    </div>
                    <p class="text-slate-500 text-[10px] font-bold uppercase tracking-widest">Active Users</p>
                    <h3 class="text-2xl font-black mt-1" id="stat-active-users">3,109</h3>
                </div>
                <div class="admin-card p-6">
                    <div class="flex justify-between items-start mb-4">
                        <div class="stat-icon bg-amber-100 text-amber-600"><i class="fas fa-bolt"></i></div>
                        <span class="text-red-500 text-xs font-bold">-2% <i class="fas fa-arrow-down"></i></span>
                    </div>
                    <p class="text-slate-500 text-[10px] font-bold uppercase tracking-widest">Avg. Scan Speed</p>
                    <h3 class="text-2xl font-black mt-1" id="stat-scan-speed">1.4s</h3>
                </div>
                <div class="admin-card p-6">
                    <div class="flex justify-between items-start mb-4">
                        <div class="stat-icon bg-emerald-100 text-emerald-600"><i class="fas fa-cloud"></i></div>
                        <span class="text-blue-500 text-xs font-bold">STABLE</span>
                    </div>
                    <p class="text-slate-500 text-[10px] font-bold uppercase tracking-widest">DB Sync Success</p>
                    <h3 class="text-2xl font-black mt-1">99.9%</h3>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="admin-card p-8">
                    <h4 class="font-bold mb-6">User Acquisition (Last 7 Days)</h4>
                    <div class="chart-container">
                        <canvas id="acquisitionChart"></canvas>
                    </div>
                </div>
                <div class="admin-card p-8">
                    <h4 class="font-bold mb-6">Document Type Distribution</h4>
                    <div class="chart-container">
                        <canvas id="distributionChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="tab-users" class="tab-content hidden space-y-6">
            <div class="admin-card p-8">
                <div class="flex justify-between items-center mb-8">
                    <div class="relative w-96">
                        <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"></i>
                        <input type="text" onkeyup="searchUsers(this)" placeholder="Search by name, email or UID..." class="w-full bg-slate-50 border border-slate-200 py-3 pl-12 pr-4 rounded-xl outline-none focus:border-blue-500">
                    </div>
                    <button class="bg-blue-600 text-white px-6 py-3 rounded-xl font-bold text-sm shadow-lg hover:bg-blue-700 transition">
                        <i class="fas fa-download mr-2"></i> Export CSV
                    </button>
                </div>

                <div class="overflow-x-auto">
                    <table class="w-full text-left">
                        <thead>
                            <tr class="text-[10px] font-bold text-slate-400 uppercase tracking-widest border-b border-slate-100">
                                <th class="pb-4 px-4">User</th>
                                <th class="pb-4 px-4">Account Type</th>
                                <th class="pb-4 px-4">CVs Created</th>
                                <th class="pb-4 px-4">Last Active</th>
                                <th class="pb-4 px-4">Status</th>
                                <th class="pb-4 px-4 text-right">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="userTableBody">
                            </tbody>
                    </table>
                </div>
            </div>
        </section>

        <section id="tab-queue" class="tab-content hidden">
            <div class="grid gap-4" id="documentQueue">
                </div>
        </section>

    </main>

    <script type="module">
        // --- ADMIN ENGINE LOGIC ---

        const state = {
            tabs: {
                overview: { title: "Executive Overview", desc: "Real-time telemetry from the QuickCV Engine." },
                users: { title: "User Database", desc: "Manage and audit all registered system users." },
                queue: { title: "Document Queue", desc: "Live stream of CVs currently being processed." },
                settings: { title: "Engine Settings", desc: "Global configuration for AI and OCR layers." }
            },
            mockUsers: [
                { name: "Michael Anderson", email: "m.anderson@corporate.com", type: "Executive", count: 12, last: "2 mins ago", status: "Active" },
                { name: "Sarah Jenkins", email: "sarahj@design.io", type: "Creative", count: 4, last: "1 hour ago", status: "Idle" },
                { name: "David Chen", email: "dchen@tech.net", type: "Standard", count: 1, last: "5 hours ago", status: "Active" },
                { name: "Elena Rodriguez", email: "elena.r@global.co", type: "Executive", count: 28, last: "Yesterday", status: "Banned" }
            ]
        };

        // Initialize Charts
        window.onload = () => {
            initAcquisitionChart();
            initDistributionChart();
            renderUsers(state.mockUsers);
            simulateLiveStats();
        };

        // Tab Switching Engine
        window.switchTab = (tabId) => {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.add('hidden'));
            document.getElementById(`tab-${tabId}`).classList.remove('hidden');
            
            // Update Text
            document.getElementById('pageTitle').innerText = state.tabs[tabId].title;
            document.getElementById('pageDesc').innerText = state.tabs[tabId].desc;

            // Update Sidebar Style
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('bg-blue-50', 'text-blue-600');
                item.classList.add('text-slate-500');
            });
            event.currentTarget.classList.add('bg-blue-50', 'text-blue-600');
        };

        // User Management Engine
        function renderUsers(users) {
            const container = document.getElementById('userTableBody');
            container.innerHTML = users.map((u, i) => `
                <tr class="table-row-hover border-b border-slate-50 transition">
                    <td class="py-4 px-4">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center font-bold text-slate-500">${u.name.charAt(0)}</div>
                            <div>
                                <p class="text-sm font-bold">${u.name}</p>
                                <p class="text-[10px] text-slate-400">${u.email}</p>
                            </div>
                        </div>
                    </td>
                    <td class="py-4 px-4"><span class="px-2 py-1 bg-slate-100 text-[10px] font-bold rounded-lg">${u.type}</span></td>
                    <td class="py-4 px-4 font-bold text-sm">${u.count}</td>
                    <td class="py-4 px-4 text-xs text-slate-500">${u.last}</td>
                    <td class="py-4 px-4">
                        <span class="flex items-center gap-2 text-[10px] font-bold ${u.status === 'Active' ? 'text-emerald-500' : 'text-red-400'}">
                            <div class="w-1.5 h-1.5 rounded-full ${u.status === 'Active' ? 'bg-emerald-500' : 'bg-red-400'}"></div>
                            ${u.status.toUpperCase()}
                        </span>
                    </td>
                    <td class="py-4 px-4 text-right">
                        <button class="p-2 text-slate-400 hover:text-blue-600 transition"><i class="fas fa-edit"></i></button>
                        <button class="p-2 text-slate-400 hover:text-red-500 transition"><i class="fas fa-trash"></i></button>
                    </td>
                </tr>
            `).join('');
        }

        window.searchUsers = (input) => {
            const query = input.value.toLowerCase();
            const filtered = state.mockUsers.filter(u => u.name.toLowerCase().includes(query) || u.email.toLowerCase().includes(query));
            renderUsers(filtered);
        };

        // Analytics Engine
        function initAcquisitionChart() {
            const ctx = document.getElementById('acquisitionChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    datasets: [{
                        label: 'New Users',
                        data: [65, 59, 80, 81, 56, 95, 120],
                        borderColor: '#3b82f6',
                        tension: 0.4,
                        fill: true,
                        backgroundColor: 'rgba(59, 130, 246, 0.05)'
                    }]
                },
                options: { maintainAspectRatio: false, plugins: { legend: { display: false } } }
            });
        }

        function initDistributionChart() {
            const ctx = document.getElementById('distributionChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['PDF', 'Images/OCR', 'DOCX'],
                    datasets: [{
                        data: [300, 50, 100],
                        backgroundColor: ['#3b82f6', '#8b5cf6', '#f59e0b']
                    }]
                },
                options: { maintainAspectRatio: false }
            });
        }

        // Live Simulation Logic (For that "Elite" feel)
        function simulateLiveStats() {
            setInterval(() => {
                const total = document.getElementById('stat-total-cvs');
                const val = parseInt(total.innerText.replace(',', ''));
                total.innerText = (val + Math.floor(Math.random() * 3)).toLocaleString();
            }, 5000);
        }

        window.logoutAdmin = () => {
            if(confirm("Terminate administrative session?")) window.location.href = "index.html";
        };

    </script>
</body>
</html>


